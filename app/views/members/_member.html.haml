- join_btn_class = 'btn btn-xs btn-primary'
- member_btn_class = 'btn btn-xs btn-ghost'
- issue = local_assigns[:issue]
%span(class="#{dom_id(issue)}-member")
  - if issue.frozen?
    %button.btn-member{ class: member_btn_class }
      휴면 중
  - elsif user_signed_in?
    - if issue.member?(current_user)
      - unless issue.organized_by? current_user
        %button.btn-member{"data-url": "#reject-member-#{dom_id(issue)}", "data-action": "parti-popover", "data-placement": "bottom", class: member_btn_class}
          가입함
          %i.fa.fa-caret-down
        .hidden
          .reject-member{id: "reject-member-#{dom_id(issue)}"}
            = link_to cancel_issue_members_path(issue), method: :delete, 'data-disable-with': '처리 중...' do
              빠띠 나가기
    - elsif issue.member_requested?(current_user)
      %button.btn-member{ class: member_btn_class }
        가입요청 중
    - else
      = link_to smart_members_or_member_requests_parti_path(issue), method: :post, 'data-disable-with': '처리 중...', class: join_btn_class do
        = t("labels.issue.groups.#{host_group.slug}.public_join", cascade: true)
  - else
    = link_to t("labels.issue.groups.#{host_group.slug}.public_join", cascade: true), '#', data: { toggle: 'parti-login-overlay', label: '가입', 'after-login': h({action: :issue_member, id: issue.id}.to_json) }, class: join_btn_class
