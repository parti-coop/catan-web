= render 'user_header'

- paging = (@posts.present? and @posts.try(:current_page).present?)

%section#user-gallery
  .container
    .row
      .col-sm-8.col-xs-12
        %h4.group-heading
          작성한 게시물
        .posts
          - if @posts.empty?
            .bg-default
              %i.fa.fa-info-circle
              아직 글이 없습니다.
          - else
            .post-container{data: {last_id: @posts.last.try(:id), is_last: @is_last_page.to_s}}
              - if paging
                = render 'posts/page', posts: @posts, show_issue: true, show_today: true, first_today_text: ("게시물 #{number_with_delimiter @posts.total_count}개 중에 #{@posts.current_page}페이지를 표시합니다" unless @posts.first_page?)

            - if paging
              = paginate @posts, theme: 'catan'
            - else
              .page-waypoint.js-page-waypoint.text-center{'data-target': '.post-container', 'data-url': slug_user_path(format: :js)}
                .page-waypoint-loading.js-page-waypoint-loading
                  %i.fa.fa-2x.fa-spinner.fa-pulse

      = render 'users/aside'
