- paging = (!@posts.nil? and @posts.try(:current_page).present?)

%section.posts-page#posts
  .container
    .row
      .col-xs-12.col-sm-8
        .posts{data: {last_id: -1, is_last: 'false'}}
          .post-card.summary
            .post-card__post
              모든
              %strong "##{@hashtag}"
              해시태그된 게시물입니다.

          #no-data.text-center.alert{ style: 'display: none;' }
            %i.fa.fa-info-circle
              해당 게시글이 없습니다.

          - if paging
            = render 'posts/page', posts: @posts, show_issue: true, show_day_section: true, first_today_text: ("게시물 #{number_with_delimiter @posts.total_count}개 중에 #{@posts.current_page}페이지를 표시합니다" unless @posts.first_page?)

        - if paging
          = paginate @posts, theme: 'catan'

          - if @recommend_posts.any?
            %hr

            .post-data-divider 다른 빠띠에선 이런 이야기를 나누고 있어요
            = render 'posts/list_card', posts: @recommend_posts.limit(30).to_a.sample(3)

        - else
          .page-waypoint.js-page-waypoint-onload.text-center{'data-target': '.posts', 'data-url': hashtag_path(format: :js, hashtag: @hashtag)}
            .page-waypoint-loading.js-page-waypoint-loading
              %i.fa.fa-2x.fa-spinner.fa-pulse
      - unless is_small_screen?
        = render 'application/aside'
